---
import { cn } from "@/lib/utils";
import tw from "@/utils/tw";
import { cva } from "class-variance-authority";

const tilePatternBgVariants = cva(
  tw`absolute inset-0 size-full bg-opacity-3 bg-tile-pattern bg-repeat`,
  {
    variants: {
      theme: {
        auto: tw`dark:contrast-[88%] dark:invert`,
        light: tw``,
        dark: tw`contrast-[88%] invert`,
      },
    },
    defaultVariants: {
      theme: "auto",
    },
  },
);
interface Props {
  theme?: "auto" | "light" | "dark";
  class?: string;
}

const { theme = "auto" } = Astro.props;
---

<div
  class={cn(
    tilePatternBgVariants({
      theme,
    }),
  ) + " bg-brand-gray"}
>
  <slot />
</div>
