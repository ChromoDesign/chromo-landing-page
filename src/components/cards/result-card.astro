---
import type { Result } from "@/constants/results";
import GlowEffect from "../common/glow-effect.astro";
import sparklingStarsSvg from "@/assets/images/backgrounds/sparkling-stars.svg?raw";
import tw from "@/utils/tw";
import Icon from "../common/icon.astro";

interface Props {
  result: Result;
}

const lightSchemeClasses = {
  article: tw`hover:bg-white hover:bg-opacity-50`,
  figure: tw`bg-black`,
};

const darkSchemeClasses = {
  article: tw`dark:hover:bg-white dark:hover:bg-opacity-3`,
  figure: tw`dark:bg-brand-white dark:shadow-[0_0_45px_25px_rgba(255,255,255,0.4)] dark:transition-shadow dark:duration-500 dark:ease-in-out dark:before:absolute dark:before:inset-0 dark:before:rounded-[inherit] dark:before:shadow-[0_0_5px_2px_rgba(255,255,255,0.5)] dark:before:content-[''] dark:group-hover:shadow-[0_0_45px_28px_rgba(255,255,255,0.6)]`,
};

const { result } = Astro.props;
---

<GlowEffect>
  <article
    class={tw`group relative h-full overflow-hidden rounded-2xl p-5 transition-colors duration-200 ${lightSchemeClasses.article} ${darkSchemeClasses.article}`}
  >
    <figure
      class={tw`relative flex size-10 items-center justify-center rounded-xl ${lightSchemeClasses.figure} ${darkSchemeClasses.figure}`}
    >
      <Icon
        icon={result.icon}
        class="size-5 shrink-0 fill-white dark:fill-black"
      />
    </figure>

    <h3 class="mb-2 mt-4 text-black dark:text-white">{result.title}</h3>

    <p class="text-sm text-brand-gray">{result.description}</p>

    <Icon
      icon={sparklingStarsSvg}
      class="absolute left-2 top-1 max-h-20 w-2/3 fill-black object-cover opacity-0 transition-opacity group-hover:opacity-100 dark:fill-white"
    />
  </article>
</GlowEffect>
